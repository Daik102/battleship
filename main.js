(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var d=e[s],c=r.base?d[0]+r.base:d[0],l=a[c]||0,u="".concat(c," ").concat(l);a[c]=l+1;var m=n(u),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)t[m].references++,t[m].updater(h);else{var f=o(h,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var d=r(e,o),c=0;c<a.length;c++){var l=n(a[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=d}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},365:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(601),o=n.n(r),a=n(314),i=n.n(a),s=n(417),d=n.n(s),c=new URL(n(671),n.b),l=i()(o()),u=d()(c);l.push([e.id,`@font-face {\n  font-family: BlackOpsOne;\n  src: url(${u}) format('woff2');\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-size: 10px;\n  font-family: BlackOpsOne, Arial, Helvetica, sans-serif;\n  font-weight: 400;\n}\n\n:root {\n  --light-background-theme: #bbe2ff;\n  --background-theme: #004f90;\n  --victory-theme: rgba(0, 79, 144, 0.8);\n  --defeat-theme: rgba(34, 34, 34, 0.8);\n  --finish-theme: rgba(102, 51, 153, 0.8);\n  --text-theme: #eee;\n  --text-shadow-theme: #555;\n  --black-text-theme: #222;\n  --transparent-theme: #0000;\n  --star-theme: gold;\n  --emblem-theme: #222;\n  --wrapper-theme: rgba(51, 51, 51, 0.5);\n  --square-theme: aliceblue;\n  --square-dark-theme: #c0c7cd;\n  --enemy-square-theme: rgba(0, 225, 130, 0.8);\n  --border-theme: #555;\n  --ship-theme: #007de3;\n  --ship-hover-theme: #209bff;\n  --cannot-do-theme: orangered;\n  --hit-one-theme: orangered;\n  --hit-two-theme: gold;\n  --miss-one-theme: rgba(255, 255, 255, 0.2);\n  --splash-one-theme: rgba(255, 255, 255, 0.45);\n  --miss-two-theme: rgba(0, 225, 135, 0.2);\n  --splash-two-theme: rgba(0, 225, 135, 0.45);\n  --round-board-theme: rgba(51, 51, 51, 0.8);\n  --target-theme: gold;\n  --random-btn-theme: yellow;\n  --random-btn-dark-theme: #cdcd00;\n  --reset-btn-theme: #7bff00;\n  --reset-btn-dark-theme: #62cd00;\n  --play-btn-theme: aqua;\n  --play-btn-dark-theme: #00cdcd;\n}\n\nbody {\n  height: 100vh;\n  background-image: linear-gradient(var(--light-background-theme), var(--background-theme));\n}\n\nbutton {\n  border: none;\n  cursor: pointer;\n}\n\n.victory-container,\n.defeat-container,\n.finish-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.4rem;\n  width: 28rem;\n  height: 28rem;\n  padding: 2.4rem 2rem 2rem;\n}\n\n.victory-container {\n  background-color: var(--victory-theme);\n}\n\n.defeat-container {\n  background-color: var(--defeat-theme);\n}\n\n.finish-container {\n  background-color: var(--finish-theme);\n}\n\nh2 {\n  font-size: 2.3rem;\n  color: var(--square-theme);\n}\n\n.victory-container h2 {\n  margin-bottom: 1.2rem;\n}\n\n.defeat-container h2,\n.finish-container h2 {\n   margin-bottom: 1.6rem;\n}\n\n.victory-container div,\n.defeat-container div,\n.finish-container div {\n  font-size: 1.6rem;\n  color: var(--square-theme);\n}\n\n.alive-bonus {\n  margin: -1rem 0 0.4rem;\n}\n\n.bonus-row {\n  display: flex;\n  justify-content: space-between;\n  width: 22rem;\n}\n\n.total-bonus-row {\n  margin-top: 0.32rem;\n  padding-top: 0.68rem;\n  border-top: 0.4rem dotted var(--square-theme);\n}\n\n.rank-board {\n  margin-bottom: 1.2rem;\n}\n\n.comment {\n  margin: 0.4rem 0 0.8rem;\n}\n\n.move-on-btn,\n.try-again-btn,\n.finale-btn {\n  margin-top: 1.2rem;\n  padding: 0.4rem 0.8rem;\n  font-size: 1.5rem;\n  border-radius: 0.4rem;\n  background-image: linear-gradient(var(--square-theme), var(--square-dark-theme));\n}\n\n.move-on-btn:hover,\n.try-again-btn:hover,\n.finale-btn:hover {\n  opacity: 0.85;\n}\n\n.wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 2rem;\n  width: 44rem;\n  height: 100%;\n  margin: 0 auto;\n  padding: 0 6.8rem;\n  background-color: var(--wrapper-theme);\n}\n\nh1 {\n  display: flex;\n  justify-content: center;\n  gap: 1.2rem;\n}\n\n.title {\n  color: var(--text-theme);\n  font-size: 2.4rem;\n  text-shadow: 0.4rem 0.4rem 0 var(--text-shadow-theme);\n}\n\n.golden-title {\n  color: var(--star-theme);\n}\n\n.emblem-holder {\n  margin-top: 0.24rem;\n}\n\n.emblem {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 1.6rem;\n  height: 2.4rem;\n  background-image: linear-gradient(var(--emblem-theme) 1.2rem, var(--star-theme) 0 1.3rem, var(--emblem-theme) 0 1.5rem, var(--star-theme) 0 1.6rem, var(--emblem-theme) 0 1.8rem, var(--star-theme) 0 1.9rem, var(--emblem-theme) 0 2.1rem, var(--star-theme) 0 2.2rem, var(--emblem-theme) 0);\n}\n\n.rotate-emblem {\n  animation: rotate-emblem 1s;\n}\n\n@keyframes rotate-emblem {\n  from {\n    transform: rotate3d(1, 0, 0, 1turn);\n  }\n\n  to {\n    transform: rotate(1, 0, 0, 1turn);\n  }\n}\n\n.emblem-star {\n  margin-top: -1.26rem;\n  width: 0.8rem;\n  height: 0.8rem;\n  filter: invert(82%) sepia(27%) saturate(3145%) hue-rotate(360deg) brightness(107%) contrast(103%);\n}\n\n.victory-row {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  margin: -0.4rem 0 -2rem;\n}\n\n.victory-row div {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  font-size: 1.5rem;\n}\n\n.star {\n  width: 1.4rem;\n  height: 1.4rem;\n  filter: invert(82%) sepia(27%) saturate(3145%) hue-rotate(360deg) brightness(107%) contrast(103%);\n}\n\n.current-victory-board,\n.highest-victory-board {\n  color: var(--text-theme);\n}\n\n.score-board-row {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  margin-bottom: -1rem;\n}\n\n.current-score-board,\n.hi-score-board {\n  color: var(--text-theme);\n  font-size: 1.6rem;\n}\n\n.message-row {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.message-board {\n  width: 15.6rem;\n  padding: 0.4rem 0.8rem;\n  background-color: var(--square-theme);\n  color: var(--black-text-theme);\n  font-size: 1.5rem;\n  box-shadow: 0.2rem 0.2rem 0.2rem var(--text-shadow-theme);\n}\n\n.random-btn,\n.play-btn {\n  font-size: 1.5rem;\n  border-radius: 0.4rem;\n  color: var(--black-text-theme);\n  box-shadow: 0.2rem 0.2rem 0.2rem 0 var(--text-shadow-theme);\n}\n\n.opacity {\n  opacity: 0.35;\n  cursor: default;\n}\n\n.random-btn {\n  width: 8rem;\n  padding: 0.4rem;\n  background-image: linear-gradient(var(--random-btn-theme), var(--random-btn-dark-theme));\n}\n\n.random-btn:hover {\n  background-image: linear-gradient(var(--random-btn-theme));\n}\n\n.reset-btn {\n  background-image: linear-gradient(var(--reset-btn-theme), var(--reset-btn-dark-theme));\n}\n\n.reset-btn:hover {\n  background-image: linear-gradient(var(--reset-btn-theme));\n}\n\n.play-btn {\n  padding: 0.4rem 0.8rem;\n  background-image: linear-gradient(var(--play-btn-theme), var(--play-btn-dark-theme));\n}\n\n.play-btn-hover {\n  background-image: linear-gradient(var(--play-btn-theme));\n}\n\n.column-marker {\n  display: flex;\n  gap: 2.36rem;\n  margin: 0rem 0 -1.2rem;\n}\n\n.board-area-one,\n.board-area-two {\n  display: flex;\n}\n\n.row-marker {\n  display: flex;\n  flex-direction: column;\n  gap: 1.44rem;\n  margin: 1rem 1.4rem 0 -2.6rem;\n}\n\n.marker-top div {\n  font-size: 1.6rem;\n  color: var(--text-theme);\n}\n\n.marker-bottom div {\n  font-size: 1.6rem;\n}\n\n.column,\n.row {\n  color: var(--enemy-square-theme);\n}\n\n.initial-line {\n  color: var(--wrapper-theme)\n}\n\n.target-line {\n  color: var(--target-theme);\n}\n\n.board-container-one,\n.board-container-two {\n  display: grid;\n  grid-template-columns: repeat(8, 1fr);\n  grid-template-rows: repeat(8, 1fr);\n  width: 28rem;\n  height: 28rem;\n}\n\n.deploy-section {\n  background-color: var(--ship-hover-theme);\n}\n\n.square-one,\n.square-two {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.square-one {\n  background-color: var(--square-theme);\n}\n\n.square-two {\n  background-color: var(--enemy-square-theme);\n}\n\n.ship {\n  background-color: var(--ship-theme);\n  border: none;\n}\n\n.ship-hover {\n  background-color: var(--ship-hover-theme);\n}\n\n.caution {\n  background-color: var(--cannot-do-theme);\n  border: none;\n}\n\n.grabbing {\n  cursor: grabbing;\n}\n\n.target {\n  border: 0.6rem double var(--target-theme);\n  cursor: crosshair;\n  opacity: 0;\n  transition: 0.3s ease-in;\n}\n\n.on-target {\n  opacity: 1;\n}\n\n.hit-one {\n  background-color: var(--hit-one-theme);\n  border: none;\n  opacity: 0.85;\n}\n\n.sunk-one {\n  opacity: 0.4;\n}\n\n.hit-two {\n  background-color: var(--hit-two-theme);\n  border: none;\n  opacity: 0.8;\n}\n\n.sunk-two {\n  opacity: 0.35;\n}\n\n.sunk-transition {\n  transition: opacity 2s;\n}\n\n.miss-one {\n  background-color: var(--miss-one-theme);\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.splash-one {\n  background-color: var(--splash-one-theme);\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.miss-two {\n  background-color: var(--miss-two-theme);\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.splash-two {\n  background-color: var(--splash-two-theme);\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.initial {\n  cursor: default;\n  background-color: var(--wrapper-theme);\n}\n\n.round-board {\n  font-size: 2.6rem;\n  color: var(--round-board-theme);\n  opacity: 0;\n  transform: translate(0, -17.6rem);\n}\n\n.display-round {\n  opacity: 1;\n  transition: opacity 1s;\n}\n\n.erase-round {\n  visibility: hidden;\n}\n\n.dark {\n  opacity: 0.6;\n  cursor: default;\n}\n\nfooter {\n  margin-top: -4.8rem;\n}\n\n.footer-link {\n  color: var(--enemy-square-theme);\n  text-decoration: none;\n  font-size: 1.3rem;\n}\n\n.initial-footer-link {\n  color: var(--wrapper-theme);\n}\n\n.footer-link:hover {\n  color: var(--target-theme);\n}\n`,""]);const m=l},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},650:(e,t,n)=>{function r(){const e=[];function t(e,t,n,r){const o=["submarine","destroyer","cruiser","battleship"][e-1],a=[];for(let o=0;o<e;o++)"horizontal"===t?a.push([n,r+o]):a.push([n+o,r]);return{type:o,length:e,direction:t,coordinates:a,damage:0,hit:e=>e.damage+=1,isSunk:e=>{let t;return e.length===e.damage&&(t=!0),t}}}return{deployShip:n=>{let r=[];r=n||[[0,1,4,"horizontal"],[5,3,3,"vertical"],[3,6,2,"horizontal"],[6,1,1,"vertical"]];for(let n=0;n<r.length;n++){const o=r[n],a=o[0],i=o[1],s=t(o[2],o[3],a,i);e.push(s)}},getDeploySets:()=>{const t=[];for(let n=0;n<e.length;n++){const r=e[n],o=[r.coordinates[0][0],r.coordinates[0][1],r.length,r.direction];t.push(o)}return t},getList:()=>e}}function o(){let e=Array.from({length:8},()=>Array(8).fill(0));function t(t,n,r,o,a,i){const s=a.length;let d,c,l,u,m,h,f,b,p,g=a.direction;if(i)g=i;else for(let r=0;r<s;r++)"horizontal"===g?e[t][n+r]=0:(e[t+1]||1===s)&&(e[t+r][n]=0);for(let t=0;t<s;t++){if("horizontal"===g){const n=e[r][o+t];if(m=e[r][o+t+1],h=e[r][o+t-1],void 0===n){d=!0;break}e[r-1]&&(c=e[r-1][o+t-1],l=e[r-1][o],u=e[r-1][o+t+1]),e[r+1]&&(f=e[r+1][o+t-1],b=e[r+1][o],p=e[r+1][o+t+1])}else{if(!e[r+t]){d=!0;break}m=e[r+t][o+1],h=e[r+t][o-1],e[r+t-1]&&(c=e[r+t-1][o-1],l=e[r+t-1][o],u=e[r+t-1][o+1]),e[r+t+1]&&(f=e[r+t+1][o-1],b=e[r+t+1][o],p=e[r+t+1][o+1])}if("S"===c||"S"===l||"S"===u||"S"===h||"S"===m||"S"===f||"S"===b||"S"===p){d=!0;break}}if(d){if(!i)for(let r=0;r<s;r++)"horizontal"===g?e[t][n+r]="S":e[t+r][n]="S";return d}for(let t=0;t<s;t++)"horizontal"===g?(a.coordinates[t]=[r,o+t],e[r][o+t]="S"):(a.coordinates[t]=[r+t,o],e[r+t][o]="S")}let n={};function r(t,n,r){if(e[t-1]&&(0===e[t-1][n-1]&&(e[t-1][n-1]=2),0===e[t-1][n+1]&&(e[t-1][n+1]=2)),e[t+1]&&(0===e[t+1][n-1]&&(e[t+1][n-1]=2),0===e[t+1][n+1]&&(e[t+1][n+1]=2)),r){const t=[];for(let n=0;n<r.length;n++){const o=r.coordinates[n],a=o[0],i=o[1];t.push(o),e[a-1]&&0===e[a-1][i]&&(e[a-1][i]=2),0===e[a][i-1]&&(e[a][i-1]=2),0===e[a][i+1]&&(e[a][i+1]=2),e[a+1]&&0===e[a+1][i]&&(e[a+1][i]=2)}return t}}const o=(t,n,o,i,s)=>{const c=e[t][n];let l="",u=[],m=0;if(0===c)l="miss",e[t][n]=1;else{if("S"!==c)return;for(let a=0;a<i.length;a++){const s=i[a];for(let a=0;a<s.length;a++){const i=s.coordinates[a],d=i[0],c=i[1];if(d===t&&c===n){l="hit",s.hit(s),e[t][n]="X",m=s.length;const a=document.querySelector(".wrapper");1===o?(a.classList.add("hit-one"),setTimeout(()=>{a.classList.remove("hit-one")},100)):(a.classList.add("hit-two"),setTimeout(()=>{a.classList.remove("hit-two")},100)),s.isSunk(s)?(l="sunk",u=r(t,n,s)):r(t,n)}}}}const h=a(),f=["submarine","destroyer","cruiser","battleship"];return"hit"===l?2===o?h.updateMessage("Hit!"):h.updateMessage("Ouch!"):"sunk"===l&&(2===o?h.updateMessage("Got "+f[m-1]+"!"):h.updateMessage("Lost "+f[m-1]+"!")),d(o,s,u),l},i=(t,n,r)=>{const a=[],d=[];for(let t=0;t<8;t++){const n=e[t];for(let r=0;r<8;r++){const o=n[r];if("X"===o)e[t-1]&&(0!==e[t-1][r]&&"S"!==e[t-1][r]||a.push(8*(t-1)+r)),0!==e[t][r-1]&&"S"!==e[t][r-1]||a.push(8*t+r-1),0!==e[t][r+1]&&"S"!==e[t][r+1]||a.push(8*t+r+1),e[t+1]&&(0!==e[t+1][r]&&"S"!==e[t+1][r]||a.push(8*(t+1)+r));else if(0===o||"S"===o){const e=8*t+r;d.push(e)}}}let c=Math.floor(Math.random()*d.length),l=d[c];0!==a.length&&(c=Math.floor(Math.random()*a.length),l=a[c]);const u=Math.floor(l/8),m=l%8;setTimeout(()=>{const e=o(u,m,1,n,r);"hit"===e?i(t,n,r):"sunk"===e?setTimeout(()=>{const e=s(1,n);e?t(e):i(t,n,r)},1e3):t()},1e3)},s=(e,t)=>{if(t.reduce((e,n,r)=>e+n.isSunk(t[r]),0)===t.length)return e},d=(t,n,r,o)=>{const a=document.querySelector(".board-container-one"),i=document.querySelector(".board-container-two");a.innerHTML="",i.innerHTML="",t||i.classList.remove("dark");for(let r=0;r<8;r++)for(let o=0;o<8;o++){const s=document.createElement("li");s.classList.add("square-one"),s.setAttribute("x",r),s.setAttribute("y",o);const d=document.createElement("li");d.classList.add("square-two"),d.setAttribute("x",r),d.setAttribute("y",o),2===t?(1===n[r][o]?s.classList.add("miss-one"):2===n[r][o]?s.classList.add("splash-one"):"X"===n[r][o]?s.classList.add("hit-one"):"D"===n[r][o]?(s.classList.add("hit-one"),s.classList.add("sunk-one")):"S"===n[r][o]&&(s.classList.add("ship"),s.setAttribute("draggable","false")),1===e[r][o]?d.classList.add("miss-two"):2===e[r][o]?d.classList.add("splash-two"):"X"===e[r][o]?d.classList.add("hit-two"):"D"===e[r][o]&&(d.classList.add("hit-two"),d.classList.add("sunk-two"))):("S"===e[r][o]&&(s.classList.add("ship"),s.setAttribute("draggable","false"),t||(s.setAttribute("draggable","true"),s.classList.add("grabbing"))),t?(1===e[r][o]?s.classList.add("miss-one"):2===e[r][o]?s.classList.add("splash-one"):"X"===e[r][o]?s.classList.add("hit-one"):"D"===e[r][o]&&(s.classList.add("hit-one"),s.classList.add("sunk-one")),1===n[r][o]?d.classList.add("miss-two"):2===n[r][o]?d.classList.add("splash-two"):"X"===n[r][o]?d.classList.add("hit-two"):"D"===n[r][o]&&(d.classList.add("hit-two"),d.classList.add("sunk-two"))):d.classList.add("initial")),a.appendChild(s),i.appendChild(d)}if(r){const n=document.querySelectorAll(".square-one"),o=document.querySelectorAll(".square-two");for(let a=0;a<r.length;a++){const i=r[a],s=i[0],d=i[1];e[s][d]="D",2===t?o[8*s+d].classList.add("sunk-transition"):n[8*s+d].classList.add("sunk-transition")}setTimeout(()=>{for(let e=0;e<r.length;e++){const a=r[e],i=a[0],s=a[1];2===t?o[8*i+s].classList.add("sunk-two"):n[8*i+s].classList.add("sunk-one")}},500)}if(!t){a.classList.add("deploy-section");const e=document.querySelectorAll(".row"),t=document.querySelectorAll(".column");e.forEach(e=>{e.classList.add("initial-line"),e.classList.remove("dark")}),t.forEach(e=>{e.classList.add("initial-line"),e.classList.remove("dark")});const n=document.querySelector(".footer-link");n.classList.add("initial-footer-link"),n.classList.remove("dark")}if(o||0===o){const e=document.querySelector(".round-board"),t=o+1;e.classList.remove("erase-round"),e.classList.add("display-round"),e.textContent="Round "+t,setTimeout(()=>{e.classList.remove("display-round"),e.classList.add("erase-round")},1250),a.classList.remove("deploy-section");const n=document.querySelectorAll(".row"),r=document.querySelectorAll(".column");n.forEach(e=>{e.classList.remove("initial-line")}),r.forEach(e=>{e.classList.remove("initial-line")}),document.querySelector(".footer-link").classList.remove("initial-footer-link")}};return{deployBoard:t=>{for(let n=0;n<t.length;n++){const r=t[n],o=r.length,a=r.direction,i=r.coordinates[0],s=i[0],d=i[1];for(let t=0;t<o;t++)"horizontal"===a?e[s][d+t]="S":e[s+t][d]="S"}return e},rotateShip:(t,n,r)=>{for(let o=0;o<r.length;o++){const a=r[o],i=a.length;if(1===i)return;for(let r=0;r<i;r++){let o=a.coordinates[r],s=o[0],c=o[1];if(t===s&&n===c){const t=a.direction,n=a.coordinates[0],r=n[0],l=n[1];let u;for(let n=1;n<i;n++)if("horizontal"===t){if(!e[r+n]){u=!0;break}if(e[r+n+1]){const t=e[r+n+1][l],o=e[r+n+1][l-1],a=e[r+n+1][l+1];if("S"===t||"S"===o||"S"===a){u=!0;break}}}else{const t=e[r][l+n],o=e[r][l+n+1];let a,i;if(e[r-1]&&(a=e[r-1][l+n+1]),e[r+1]&&(i=e[r+1][l+n+1]),void 0===t||"S"===o||"S"===a||"S"===i){u=!0;break}}if(u){const e=document.querySelectorAll(".square-one");for(let t=0;t<i;t++)o=a.coordinates[t],s=o[0],c=o[1],e.forEach(e=>{const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));s===t&&c===n&&(e.classList.add("caution"),setTimeout(()=>{e.classList.remove("caution")},200))})}else{"horizontal"===a.direction?a.direction="vertical":a.direction="horizontal";for(let e=0;e<i;e++)a.coordinates[e]="horizontal"===t?[r+e,l]:[r,l+e];for(let n=1;n<i;n++)"horizontal"===t?(e[r+n][l]="S",e[r][l+n]=0):(e[r][l+n]="S",e[r+n][l]=0);d()}}}}},setMoveLocation:(e,r)=>{if(r){if(n.classList.contains("ship"))for(let o=0;o<r.length;o++){const a=r[o];for(let r=0;r<a.length;r++){const o=a.coordinates[r],i=o[0],s=o[1],c=Number(n.getAttribute("x")),l=Number(n.getAttribute("Y"));if(i===c&&s===l){const o=a.direction,i=a.coordinates[0],s=i[0],c=i[1],l=r;let u=Number(e.getAttribute("x")),m=Number(e.getAttribute("Y"));"horizontal"===o?m-=l:u-=l,t(s,c,u,m,a)?(n.classList.add("caution"),setTimeout(()=>{n.classList.remove("caution")},200)):d()}}}}else n=e},deployRandom:n=>{e=Array.from({length:8},()=>Array(8).fill(0));for(let r=0;r<n.length;r++){const o=n[r],a=o.coordinates[0],i=a[0],s=a[1];function d(){const e=Math.floor(8*Math.random()),n=Math.floor(8*Math.random()),r=["horizontal","vertical"][Math.floor(2*Math.random())],a=t(i,s,e,n,o,r);o.direction=r,a&&d()}d()}},markupTarget:e=>{const t=document.querySelectorAll(".square-two"),n=document.querySelectorAll(".column"),r=document.querySelectorAll(".row");t.forEach(t=>{if(!e)return n.forEach(e=>{e.classList.remove("target-line")}),void r.forEach(e=>{e.classList.remove("target-line")});t.addEventListener("mouseenter",()=>{const o=Number(t.getAttribute("x")),a=Number(t.getAttribute("y")),i=e[o][a];n.forEach((e,t)=>{a===t&&(0!==i&&"S"!==i||e.classList.add("target-line"))}),r.forEach((e,t)=>{o===t&&(0!==i&&"S"!==i||e.classList.add("target-line"))}),t.classList.add("target"),t.classList.add("on-target")}),t.addEventListener("mouseleave",()=>{const e=Number(t.getAttribute("x")),o=Number(t.getAttribute("y"));n.forEach((e,t)=>{o===t&&e.classList.remove("target-line")}),r.forEach((t,n)=>{e===n&&t.classList.remove("target-line")}),t.classList.remove("target"),t.classList.remove("on-target")})})},receiveAttack:o,getComputerMove:i,checkTheWinner:s,getBoard:()=>e,renderBoard:d}}function a(e,t){let n=e||0,r=JSON.parse(localStorage.getItem("hiScore"))||5e3,o=t||0,a=JSON.parse(localStorage.getItem("highestVictory"))||0,i=0;const s=e=>{const t=document.querySelector(".message-board");if("deploy"===e){let e=0;t.textContent="Deploy your fleet",i=setInterval(()=>{e+=1,0===e?t.textContent="Deploy your fleet":1===e?t.textContent="Drag to move":2===e&&(t.textContent="Click to rotate"),2===e&&(e=-1)},2e3)}else"start"===e?(clearInterval(i),t.textContent="Your turn"):t.textContent=e};let d,c=0;return{updateRecords:(e,t)=>{if("hit"===e?n+=500:"reset"===e?(n=0,o=0):e&&(n+=e,o+=1),n>r&&(r=n,localStorage.setItem("hiScore",JSON.stringify(r))),o>a&&(a=o,localStorage.setItem("highestVictory",JSON.stringify(a))),t)return;const i=document.querySelector(".current-score-board"),s=document.querySelector(".hi-score-board"),d=document.querySelector(".current-victory-board"),c=document.querySelector(".highest-victory-board");let l=n.toString().padStart(6,"0"),u=r.toString().padStart(6,"0");i.textContent=l,s.textContent="Hi "+u,d.textContent=o,c.textContent=a},getRecords:()=>[n,o],updateMessage:s,updateBtn:()=>{const e=document.querySelector(".random-btn"),t=document.querySelector(".play-btn");0===c?(e.textContent="Random",e.classList.remove("reset-btn"),t.classList.remove("opacity"),t.classList.remove("play-btn-hover")):(e.textContent="Reset",e.classList.remove("opacity"),e.classList.add("reset-btn"),t.classList.add("opacity"))},setCurrentTurn:e=>c=e,getCurrentTurn:()=>c,rotateEmblem:()=>{document.querySelectorAll(".emblem").forEach(e=>{e.classList.add("rotate-emblem"),setTimeout(()=>{e.classList.remove("rotate-emblem")},1e3)})},displayResult:(e,t,n)=>{const r=document.querySelector(".board-container-one"),a=document.querySelector(".board-container-two");let i="";1===e?(i='\n        <div class="victory-container">\n          <h2>Mission Complete</h2>\n          <div class="alive-bonus">- Alive Bonus -</div>\n          <div class="bonus-row">\n            <div>Battleship</div>\n            <div class="bonus-score-board"></div>\n          </div>\n          <div class="bonus-row">\n            <div>Cruiser</div>\n            <div class="bonus-score-board"></div>\n          </div>\n          <div class="bonus-row">\n            <div>Destroyer</div>\n            <div class="bonus-score-board"></div>\n          </div>\n          <div class="bonus-row">\n            <div>Submarine</div>\n            <div class="bonus-score-board"></div>\n          </div>\n          <div class="bonus-row total-bonus-row">\n            <div>Total Bonus</div>\n            <div class="total-bonus-score-board"></div>\n          </div>\n          <button type="button" class="move-on-btn">Move on</button>\n        </div>\n      ',setTimeout(()=>{s("You win!"),r.innerHTML=i;const e=function(e){const t=document.querySelectorAll(".bonus-score-board"),n=document.querySelector(".total-bonus-score-board");let r=0;return t.forEach((t,n)=>{let o=2e3-500*n;e[n].isSunk(e[n])?o=0:r+=o,t.textContent=o}),n.textContent=r,r}(n);t(e)},2e3)):2===e?(i='\n        <div class="defeat-container">\n          <h2>Mission failed</h2>\n          <div>- Battle Result -</div>\n          <div class="final-victory-board"></div>\n          <div>Your rank:</div>\n          <div class="rank-board"></div>\n          <div class="comment">Good luck next time.</div>\n          <button type="button" class="try-again-btn">Try again</button>\n        </div>\n      ',setTimeout(()=>{s("You lose"),a.classList.add("dark");const e=document.querySelectorAll(".row"),n=document.querySelectorAll(".column");e.forEach(e=>{e.classList.add("dark")}),n.forEach(e=>{e.classList.add("dark")}),document.querySelector(".footer-link").classList.add("dark"),r.innerHTML=i;let d=Math.floor(o/2)+1;0===o&&(d=0);const c=document.querySelector(".final-victory-board"),l=document.querySelector(".rank-board");c.textContent=o+" wins",l.textContent=["Seaman","Petty Officer","Chief Petty Officer","Ensign","Lieutenant Jr. Grade","Lieutenant","Lieutenant Commander","Commander","Captain","Rear Admiral","Vice Admiral"][d],t()},1e3)):(s("You win!"),i='\n        <div class="finish-container">\n          <h2>Congratulations!</h2>\n          <div>- Battle Result -</div>\n          <div>20 wins</div>\n          <div>Your rank:</div>\n          <div class="rank-board">Admiral</div>\n          <div class="comment">Honor your achievement!</div>\n          <button type="button" class="finale-btn">Finale</button>\n        </div>\n      ',r.innerHTML=i)},setFinished:e=>{e?document.querySelector(".title").classList.add("golden-title"):d=!0},getFinished:()=>d}}function i(e,t,n,i){return{playerNo:e,playerType:t,list:r(),board:o(),info:a(n,i)}}n.d(t,{O:()=>i}),(e=n.hmd(e)).exports&&(e.exports=o)},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},671:(e,t,n)=>{e.exports=n.p+"13a584a5809f4f46a2a6.woff2"},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b="undefined"!=typeof document&&document.baseURI||self.location.href,n.nc=void 0;var r=n(72),o=n.n(r),a=n(825),i=n.n(a),s=n(659),d=n.n(s),c=n(56),l=n.n(c),u=n(540),m=n.n(u),h=n(113),f=n.n(h),b=n(365),p={};p.styleTagTransform=f(),p.setAttributes=l(),p.insert=d().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=m(),o()(b.A,p),b.A&&b.A.locals&&b.A.locals;var g=n(650);let v=(0,g.O)(1,"human"),y=(0,g.O)(2,"computer");function L(e){let t;if(!e){const e=v.info.getRecords(),n=e[0],r=e[1],o=v.info.getFinished();t=v.list.getDeploySets(),v=(0,g.O)(v.playerNo,v.playerType,n,r),y=(0,g.O)(y.playerNo,y.playerType),o&&v.info.setFinished("display")}v.list.deployShip(t),y.list.deployShip(),v.board.deployBoard(v.list.getList()),y.board.deployBoard(y.list.getList()),y.board.deployRandom(y.list.getList()),v.info.updateRecords(),v.info.updateMessage("deploy"),v.info.updateBtn(),v.board.renderBoard()}L("initial");const k=document.querySelector(".random-btn"),S=document.querySelector(".play-btn"),w=document.querySelector(".board-container-one"),x=document.querySelector(".board-container-two");k.addEventListener("click",()=>{const e=v.info.getCurrentTurn();0===e?(v.board.deployRandom(v.list.getList()),v.board.renderBoard()):1===e&&(v.info.updateRecords("reset"),L())}),w.addEventListener("mouseenter",()=>{const e=document.querySelectorAll(".square-one");e.forEach(t=>{if(0!==v.info.getCurrentTurn())return;const n=[];t.addEventListener("mouseenter",t=>{if(t.target.classList.contains("ship")){const r=Number(t.target.getAttribute("x")),o=Number(t.target.getAttribute("y")),a=v.list.getList();for(let t=0;t<a.length;t++){const i=a[t];for(let t=0;t<i.length;t++){const a=i.coordinates[t],s=a[0],d=a[1];if(r===s&&o===d)for(let t=0;t<i.length;t++){const r=i.coordinates[t],o=8*r[0]+r[1];n.push(o),e[o].classList.add("ship-hover")}}}}}),t.addEventListener("mouseleave",()=>{for(let t=0;t<n.length;t++){const r=n[t];e[r].classList.remove("ship-hover")}})})}),w.addEventListener("click",e=>{if(0===v.info.getCurrentTurn()){const t=Number(e.target.getAttribute("x")),n=Number(e.target.getAttribute("y"));e.target.classList.contains("ship")&&v.board.rotateShip(t,n,v.list.getList())}}),w.addEventListener("dragstart",e=>{v.board.setMoveLocation(e.target)}),w.addEventListener("dragover",e=>{0===v.info.getCurrentTurn()&&e.preventDefault()}),w.addEventListener("drop",e=>{v.board.setMoveLocation(e.target,v.list.getList())}),S.addEventListener("mouseenter",()=>{0===v.info.getCurrentTurn()&&S.classList.add("play-btn-hover")}),S.addEventListener("mouseleave",()=>{0===v.info.getCurrentTurn()&&S.classList.remove("play-btn-hover")}),S.addEventListener("click",()=>{const e=v.info.getCurrentTurn(),t=v.info.getRecords()[1];0===e&&(v.info.setCurrentTurn(1),v.info.updateMessage("start"),v.info.updateBtn(),v.board.renderBoard(1,y.board.getBoard(),"",t),v.board.markupTarget(y.board.getBoard()))}),x.addEventListener("click",e=>{if(1===v.info.getCurrentTurn()){const t=Number(e.target.getAttribute("x")),n=Number(e.target.getAttribute("y"));if(e.target.classList.contains("board-container-two"))return;const r=y.board.receiveAttack(t,n,2,y.list.getList(),v.board.getBoard());if("hit"===r||"sunk"===r)if(v.info.updateRecords("hit"),v.board.markupTarget(),y.board.checkTheWinner(1,y.list.getList())){function o(e){v.info.updateRecords(e,"notRender"),v.info.rotateEmblem(),document.querySelector(".move-on-btn").addEventListener("click",()=>{w.classList.remove("erase-board","display-board"),v.info.rotateEmblem(),20===v.info.getRecords()[1]?(v.info.displayResult("finish"),v.info.updateRecords(),document.querySelector(".finale-btn").addEventListener("click",()=>{v.info.rotateEmblem(),v.info.updateRecords("reset"),v.info.setFinished(),L()})):L()})}v.info.setCurrentTurn(3),v.info.displayResult(1,o,v.list.getList())}else v.board.markupTarget(y.board.getBoard());else if("miss"===r){function a(e){if(e){function t(){document.querySelector(".try-again-btn").addEventListener("click",()=>{v.info.updateRecords("reset"),L()})}v.info.setCurrentTurn(3),v.info.displayResult(2,t)}else v.info.setCurrentTurn(1),v.info.updateMessage("Your turn"),v.board.markupTarget(y.board.getBoard())}v.info.setCurrentTurn(2),v.info.updateMessage("Computer's turn"),v.board.markupTarget(),v.board.getComputerMove(a,v.list.getList(),y.board.getBoard())}}})})();