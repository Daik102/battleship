(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var d=e[s],c=r.base?d[0]+r.base:d[0],l=a[c]||0,u="".concat(c," ").concat(l);a[c]=l+1;var m=n(u),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)t[m].references++,t[m].updater(h);else{var f=o(h,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var d=r(e,o),c=0;c<a.length;c++){var l=n(a[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=d}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},365:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(601),o=n.n(r),a=n(314),i=n.n(a),s=n(417),d=n.n(s),c=new URL(n(671),n.b),l=new URL(n(661),n.b),u=i()(o()),m=d()(c),h=d()(l);u.push([e.id,`@font-face {\n  font-family: BlackOpsOne;\n  src: url(${m}) format('woff2');\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-size: 1.04vh;\n  font-family: BlackOpsOne, Arial, Helvetica, sans-serif;\n  font-weight: 400;\n}\n\n:root {\n  --light-background-theme: #bbe2ff;\n  --background-theme: #004f90;\n  --victory-theme: rgba(0, 79, 144, 0.8);\n  --defeat-theme: rgba(34, 34, 34, 0.8);\n  --finish-theme: rgba(102, 51, 153, 0.8);\n  --text-theme: #eee;\n  --text-shadow-theme: #555;\n  --black-text-theme: #222;\n  --white-text-theme: aliceblue;\n  --transparent-theme: #0000;\n  --star-theme: gold;\n  --emblem-theme: #222;\n  --wrapper-theme: rgba(51, 51, 51, 0.5);\n  --initial-theme: rgba(51, 51, 51, 0.5);\n  --square-theme: aliceblue;\n  --square-dark-theme: #c0c7cd;\n  --enemy-square-theme: rgba(0, 225, 130, 0.85);\n  --border-theme: #555;\n  --ship-theme: #007de3;\n  --ship-hover-theme: #55b2ff;\n  --ship-focus-theme: #55b2ff;\n  --cannot-do-theme: orangered;\n  --hit-one-theme: orangered;\n  --hit-two-theme: gold;\n  --miss-one-theme: aliceblue;\n  --splash-one-theme: rgba(240, 248, 255, 0.5);\n  --miss-two-theme: rgba(0, 225, 135, 0.75);\n  --splash-two-theme: rgba(0, 225, 135, 0.45);\n  --round-board-theme: rgba(51, 51, 51, 0.75);\n  --target-theme: gold;\n  --random-btn-theme: yellow;\n  --random-btn-dark-theme: #cdcd00;\n  --reset-btn-theme: #7bff00;\n  --reset-btn-dark-theme: #62cd00;\n  --play-btn-theme: aqua;\n  --play-btn-dark-theme: #00cdcd;\n}\n\nbody {\n  height: 100vh;\n  background-image: linear-gradient(var(--light-background-theme), var(--background-theme));\n}\n\nul {\n  list-style-type: none;\n}\n\nbutton {\n  border: none;\n  cursor: pointer;\n}\n\n.wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 44rem;\n  height: 100%;\n  margin: 0 auto;\n  background-color: var(--wrapper-theme);\n}\n\n.header {\n  display: flex;\n  justify-content: center;\n  gap: 1.6rem;\n  margin-top: -4rem;\n}\n\n.title {\n  color: var(--text-theme);\n  font-size: 2.6rem;\n  text-shadow: 0.4rem 0.4rem 0 var(--text-shadow-theme);\n}\n\n.golden-title {\n  color: var(--star-theme);\n}\n\n.emblem-holder {\n  margin-top: 0.24rem;\n}\n\n.emblem {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 1.6rem;\n  height: 2.4rem;\n  background-image: linear-gradient(var(--emblem-theme) 1.2rem, var(--star-theme) 0 1.3rem, var(--emblem-theme) 0 1.5rem, var(--star-theme) 0 1.6rem, var(--emblem-theme) 0 1.8rem, var(--star-theme) 0 1.9rem, var(--emblem-theme) 0 2.1rem, var(--star-theme) 0 2.2rem, var(--emblem-theme) 0);\n  box-shadow: 0.2rem 0.2rem 0.4rem var(--text-shadow-theme);\n}\n\n.emblem-star {\n  margin-top: -1.26rem;\n  width: 0.8rem;\n  height: 0.8rem;\n  background: url(${h}) no-repeat;\n  filter: invert(82%) sepia(27%) saturate(3145%) hue-rotate(360deg) brightness(107%) contrast(103%);\n}\n\n.rotate-emblem {\n  animation: rotate-emblem 1s;\n}\n\n@keyframes rotate-emblem {\n  from {\n    transform: rotate3d(1, 0, 0, 1turn);\n  }\n\n  to {\n    transform: rotate(1, 0, 0, 1turn);\n  }\n}\n\n.info-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  margin:1.2rem 0;\n}\n\n.victory-row {\n  display: flex;\n  justify-content: space-between;\n  width: 30rem;\n}\n\n.victory-row div {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n}\n\n.star {\n  width: 1.4rem;\n  height: 1.4rem;\n  filter: invert(82%) sepia(27%) saturate(3145%) hue-rotate(360deg) brightness(107%) contrast(103%);\n}\n\n.current-victory-board,\n.highest-victory-board {\n  color: var(--text-theme);\n  font-size: 1.5rem;\n}\n\n.score-board-row {\n  display: flex;\n  justify-content: space-between;\n  width: 30rem;\n  margin: -0.4rem 0 0.8rem;\n}\n\n.current-score-board,\n.hi-score-board {\n  color: var(--text-theme);\n  font-size: 1.6rem;\n}\n\n.message-row {\n  display: flex;\n  justify-content: space-between;\n  width: 30rem;\n}\n\n.message-board {\n  width: 15.6rem;\n  padding: 0.4rem 0.8rem;\n  background-color: var(--square-theme);\n  color: var(--black-text-theme);\n  font-size: 1.5rem;\n  box-shadow: 0.2rem 0.2rem 0.4rem var(--text-shadow-theme);\n}\n\n.random-btn,\n.play-btn {\n  font-size: 1.5rem;\n  border-radius: 0.4rem;\n  color: var(--black-text-theme);\n  box-shadow: 0.2rem 0.2rem 0.4rem var(--text-shadow-theme);\n}\n\n.disabled {\n  opacity: 0.35;\n  cursor: default;\n}\n\n.random-btn {\n  width: 8rem;\n  padding: 0.4rem;\n  background-image: linear-gradient(var(--random-btn-theme), var(--random-btn-dark-theme));\n}\n\n.random-btn:hover {\n  background-image: linear-gradient(var(--random-btn-theme));\n}\n\n.reset-btn {\n  background-image: linear-gradient(var(--reset-btn-theme), var(--reset-btn-dark-theme));\n}\n\n.reset-btn:hover {\n  background-image: linear-gradient(var(--reset-btn-theme));\n}\n\n.play-btn {\n  padding: 0.4rem 0.8rem;\n  background-image: linear-gradient(var(--play-btn-theme), var(--play-btn-dark-theme));\n}\n\n.play-btn-hover {\n  background-image: linear-gradient(var(--play-btn-theme));\n}\n\n.board-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 2.4rem;\n  width: 100%;\n}\n\n.board-area-one,\n.board-area-two {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1.2rem;\n}\n\n.board-area-one {\n  margin-bottom: -1rem;\n}\n\n.column-marker {\n  display: flex;\n  gap: 2.36rem;\n}\n\n.board-area-one-row,\n.board-area-two-row {\n  display: flex;\n}\n\n.row-marker {\n  display: flex;\n  flex-direction: column;\n  gap: 1.44rem;\n  margin: 1rem 1.2rem 0 -2.6rem;\n}\n\n.marker-top li {\n  font-size: 1.6rem;\n  color: var(--text-theme);\n}\n\n.marker-bottom li {\n  font-size: 1.6rem;\n}\n\n.column,\n.row {\n  color: var(--enemy-square-theme);\n}\n\n.initial-line {\n  color: var(--initial-theme)\n}\n\n.target-line {\n  color: var(--target-theme);\n}\n\n.board-container-one,\n.board-container-two {\n  display: grid;\n  grid-template-columns: repeat(8, 1fr);\n  grid-template-rows: repeat(8, 1fr);\n  width: 28rem;\n  height: 28rem;\n}\n\n.deploy-time {\n  background-color: var(--ship-hover-theme);\n}\n\n.square-one,\n.square-two {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.square-one {\n  background-color: var(--square-theme);\n}\n\n.square-two {\n  background-color: var(--enemy-square-theme);\n}\n\n.square-one:focus,\n.square-two:focus {\n  outline: none;\n}\n\n.ship {\n  background-color: var(--ship-theme);\n  border: none;\n}\n\n.ship-hover {\n  background-color: var(--ship-hover-theme);\n}\n\n.square-one-focus {\n  background-color: var(--ship-focus-theme);\n}\n\n.caution {\n  background-color: var(--cannot-do-theme) !important;\n  border: none;\n}\n\n.grabbing {\n  cursor: grabbing;\n}\n\n.target {\n  border: 0.6rem double var(--target-theme);\n  cursor: crosshair;\n  opacity: 0;\n  transition: 0.3s ease-in;\n}\n\n.on-target {\n  opacity: 1;\n}\n\n.hit-one {\n  background-color: var(--transparent-theme);\n  background-image: repeating-linear-gradient(var(--hit-one-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem), repeating-linear-gradient(90deg, var(--hit-one-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem);\n  border: 0.1rem dotted var(--border-theme);\n  opacity: 0.85;\n}\n\n.hit-two {\n  background-color: var(--transparent-theme);\n  background-image: repeating-linear-gradient(var(--hit-two-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem), repeating-linear-gradient(90deg, var(--hit-two-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem);\n  border: 0.1rem dotted var(--border-theme);\n  opacity: 0.85;\n}\n\n.sunk-one,\n.sunk-two {\n  opacity: 0;\n}\n\n.sunk-transition {\n  transition: opacity 2s;\n}\n\n.miss-one,\n.splash-one,\n.miss-two,\n.splash-two {\n  background-color: var(--transparent-theme);\n}\n\n.miss-one {\n  background-image: repeating-linear-gradient(var(--miss-one-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem), repeating-linear-gradient(90deg, var(--miss-one-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem);\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.splash-one {\n  background-image: repeating-linear-gradient(var(--splash-one-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem), repeating-linear-gradient(90deg, var(--splash-one-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem);\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.miss-two {\n  background-image: repeating-linear-gradient(var(--miss-two-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem), repeating-linear-gradient(90deg, var(--miss-two-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem);\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.splash-two {\n  background-image: repeating-linear-gradient(var(--splash-two-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem), repeating-linear-gradient(90deg, var(--splash-two-theme) 0 0.3rem, var(--transparent-theme) 0 0.6rem);\n  border: 0.1rem dotted var(--border-theme);\n}\n\n.initial {\n  cursor: default;\n  background-color: var(--initial-theme);\n}\n\n.round-board {\n  font-size: 2.6rem;\n  color: var(--round-board-theme);\n  opacity: 0;\n  transform: translate(0, -16.8rem);\n}\n\n.display-round {\n  opacity: 1;\n  transition: opacity 1.5s;\n}\n\n.erase-round {\n  visibility: hidden;\n}\n\n.dark {\n  opacity: 0.6;\n  cursor: default;\n}\n\n.victory-container,\n.defeat-container,\n.finish-container,\n.confirmation-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.4rem;\n  width: 28rem;\n  height: 28rem;\n  padding: 2.4rem 2rem 2rem;\n}\n\n.victory-container {\n  background-color: var(--victory-theme);\n}\n\n.defeat-container {\n  background-color: var(--defeat-theme);\n}\n\n.finish-container {\n  background-color: var(--finish-theme);\n}\n\n.confirmation-container {\n  justify-content: center;\n  gap: 1.2rem;\n  padding-bottom: 4rem;\n}\n\nh2 {\n  font-size: 2.3rem;\n  color: var(--white-text-theme);\n}\n\n.victory-container h2 {\n  margin-bottom: 1.2rem;\n}\n\n.defeat-container h2,\n.finish-container h2 {\n   margin-bottom: 1.6rem;\n}\n\n.confirmation-container h2 {\n  font-size: 1.9rem;\n}\n\n.victory-container p,\n.defeat-container p,\n.finish-container p {\n  font-size: 1.6rem;\n  color: var(--white-text-theme);\n}\n\n.alive-bonus {\n  margin: -1rem 0 0.4rem;\n}\n\n.bonus-row {\n  display: flex;\n  justify-content: space-between;\n  width: 22rem;\n}\n\n.total-bonus-row {\n  margin-top: 0.32rem;\n  padding-top: 0.68rem;\n  border-top: 0.4rem dotted var(--white-text-theme);\n}\n\n.rank-board {\n  margin-bottom: 1.2rem;\n}\n\n.comment {\n  margin: 0.4rem 0 0.8rem;\n}\n\n.btn-container {\n  display: flex;\n  gap: 2rem;\n}\n\n.move-on-btn,\n.try-again-btn,\n.finale-btn,\n.do-reset-btn,\n.cancel-btn {\n  margin-top: 1.2rem;\n  padding: 0.4rem 0.8rem;\n  font-size: 1.5rem;\n  border-radius: 0.4rem;\n  background-image: linear-gradient(var(--square-theme), var(--square-dark-theme));\n}\n\n.move-on-btn:hover,\n.try-again-btn:hover,\n.finale-btn:hover,\n.do-reset-btn:hover,\n.cancel-btn:hover {\n  opacity: 0.85;\n}\n\n.link-section {\n  margin-top: -2.4rem;\n}\n\n.admin-link {\n  color: var(--enemy-square-theme);\n  text-decoration: none;\n  font-size: 1.3rem;\n}\n\n.initial-admin-link {\n  color: var(--initial-theme);\n}\n\n.admin-link:hover {\n  color: var(--target-theme);\n}\n\n@media screen and (orientation: portrait) {\n  .wrapper {\n    width: 100%;\n  }\n}\n`,""]);const f=u},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},650:(e,t,n)=>{function r(){const e=[];function t(e,t,n,r){const o=["submarine","destroyer","cruiser","battleship"][e-1],a=[];for(let o=0;o<e;o++)"horizontal"===t?a.push([n,r+o]):a.push([n+o,r]);return{type:o,length:e,direction:t,coordinates:a,damage:0,hit:e=>e.damage+=1,isSunk:e=>e.length===e.damage}}return{deployShip:n=>{let r=[];r=n||[[0,1,4,"horizontal"],[5,3,3,"vertical"],[3,6,2,"horizontal"],[6,1,1,"vertical"]];for(let n=0;n<r.length;n++){const o=r[n],a=o[0],i=o[1],s=t(o[2],o[3],a,i);e.push(s)}},getDeploySets:()=>{const t=[];for(let n=0;n<e.length;n++){const r=e[n],o=[r.coordinates[0][0],r.coordinates[0][1],r.length,r.direction];t.push(o)}return t},getList:()=>e}}function o(){let e=Array.from({length:8},()=>Array(8).fill(0));const t=e=>{const t=document.querySelectorAll(".square-one"),n=[];t.forEach(r=>{r.addEventListener("focus",()=>{const o=Number(r.getAttribute("x")),a=Number(r.getAttribute("y"));for(let r=0;r<e.length;r++){const i=e[r],s=i.coordinates[0],d=s[0],c=s[1];if(o===d&&a===c)for(let e=0;e<i.length;e++){const r=i.coordinates[e],o=8*r[0]+r[1];n.push(o),t[o].classList.add("square-one-focus")}}}),r.addEventListener("blur",()=>{for(const e of n)t[e].classList.remove("square-one-focus")})})};let n;function r(t,r,o,a,i,s){const d=i.length;let c,l,u,m,h,f,b,p,g,v=i.direction;if(s)v=s;else for(let n=0;n<d;n++)"horizontal"===v?e[t][r+n]=0:(e[t+1]||1===d)&&(e[t+n][r]=0);for(let t=0;t<d;t++){if("horizontal"===v){const n=e[o][a+t];if(h=e[o][a+t+1],f=e[o][a+t-1],void 0===n){c=!0;break}e[o-1]&&(l=e[o-1][a+t-1],u=e[o-1][a],m=e[o-1][a+t+1]),e[o+1]&&(b=e[o+1][a+t-1],p=e[o+1][a],g=e[o+1][a+t+1])}else{if(!e[o+t]){c=!0,n=!0;break}h=e[o+t][a+1],f=e[o+t][a-1],e[o+t-1]&&(l=e[o+t-1][a-1],u=e[o+t-1][a],m=e[o+t-1][a+1]),e[o+t+1]&&(b=e[o+t+1][a-1],p=e[o+t+1][a],g=e[o+t+1][a+1])}if("S"===l||"S"===u||"S"===m||"S"===f||"S"===h||"S"===b||"S"===p||"S"===g){c=!0;break}}if(c){if(!s)for(let n=0;n<d;n++)"horizontal"===v?e[t][r+n]="S":e[t+n][r]="S";return c}for(let t=0;t<d;t++)"horizontal"===v?(i.coordinates[t]=[o,a+t],e[o][a+t]="S"):(i.coordinates[t]=[o+t,a],e[o+t][a]="S")}let o={};const i=(e,t)=>{if(t){if(o.classList.contains("ship"))for(let a=0;a<t.length;a++){const i=t[a];for(let t=0;t<i.length;t++){const a=i.coordinates[t],s=a[0],d=a[1],c=Number(o.getAttribute("x")),l=Number(o.getAttribute("Y"));if(s===c&&d===l){const o=i.direction,a=i.coordinates[0],s=a[0],d=a[1],c=t;let l=Number(e.getAttribute("x")),u=Number(e.getAttribute("Y"));"horizontal"===o?u-=c:l-=c;const m=r(s,d,l,u,i);if(m)if(n)n=!1;else{const e=document.querySelectorAll(".square-one");for(let t=0;t<i.length;t++){const n=i.coordinates[t],r=8*n[0]+n[1];e[r].classList.add("caution"),setTimeout(()=>{e[r].classList.remove("caution")},200)}}else p();return m}}}}else o=e};let s,d=-1,c="",l=-1;function u(t,n,r){if(e[t-1]&&(0===e[t-1][n-1]&&(e[t-1][n-1]=2),0===e[t-1][n+1]&&(e[t-1][n+1]=2)),e[t+1]&&(0===e[t+1][n-1]&&(e[t+1][n-1]=2),0===e[t+1][n+1]&&(e[t+1][n+1]=2)),r){const t=[];for(let n=0;n<r.length;n++){const o=r.coordinates[n],a=o[0],i=o[1];t.push(o),e[a-1]&&0===e[a-1][i]&&(e[a-1][i]=2),0===e[a][i-1]&&(e[a][i-1]=2),0===e[a][i+1]&&(e[a][i+1]=2),e[a+1]&&0===e[a+1][i]&&(e[a+1][i]=2)}return t}}const m=(t,n,r,o,i)=>{const s=e[t][n];let d="",c=[],l=0;if(0===s)d="miss",e[t][n]=1;else{if("S"!==s)return;for(let a=0;a<o.length;a++){const i=o[a];for(let o=0;o<i.length;o++){const a=i.coordinates[o],s=a[0],m=a[1];if(s===t&&m===n){d="hit",i.hit(i),e[t][n]="X",l=i.length;const o=document.querySelector(".wrapper");1===r?(o.classList.add("hit-one"),setTimeout(()=>{o.classList.remove("hit-one")},150)):(o.classList.add("hit-two"),setTimeout(()=>{o.classList.remove("hit-two")},150)),i.isSunk(i)?(d="sunk",c=u(t,n,i)):u(t,n)}}}}const m=a(),h=["submarine","destroyer","cruiser","battleship"];return"hit"===d?2===r?m.updateMessage("Hit!"):m.updateMessage("Ouch!"):"sunk"===d&&(2===r?m.updateMessage("Got "+h[l-1]+"!"):m.updateMessage("Lost "+h[l-1]+"!")),p(r,i,c),d},h=(t,n,r)=>{const o=[],a=[];for(let t=0;t<8;t++){const n=e[t];for(let r=0;r<8;r++){const i=n[r];if("X"===i)e[t-1]&&(0!==e[t-1][r]&&"S"!==e[t-1][r]||o.push(8*(t-1)+r)),0!==e[t][r-1]&&"S"!==e[t][r-1]||o.push(8*t+r-1),0!==e[t][r+1]&&"S"!==e[t][r+1]||o.push(8*t+r+1),e[t+1]&&(0!==e[t+1][r]&&"S"!==e[t+1][r]||o.push(8*(t+1)+r));else if(0===i||"S"===i){const e=8*t+r;a.push(e)}}}let i=Math.floor(Math.random()*a.length),s=a[i];0!==o.length&&(i=Math.floor(Math.random()*o.length),s=o[i]);const d=Math.floor(s/8),c=s%8;setTimeout(()=>{const e=m(d,c,1,n,r);"hit"===e?h(t,n,r):"sunk"===e?setTimeout(()=>{const e=f(1,n);e?t(e):h(t,n,r)},1e3):t()},1e3)},f=(e,t)=>{if(t.reduce((e,n,r)=>e+n.isSunk(t[r]),0)===t.length)return e},b=(e,n,r)=>{const o=document.querySelectorAll(".square-one");for(let t=0;t<e.length;t++){const n=e[t].coordinates[0];o[8*n[0]+n[1]].setAttribute("tabindex","0")}if(n>=0){const a=8*n+r;t(e),o[a].focus()}},p=(t,n,r,o)=>{const a=document.querySelector(".board-container-one"),i=document.querySelector(".board-container-two");a.innerHTML="",i.innerHTML="",t||i.classList.remove("dark");for(let r=0;r<8;r++)for(let o=0;o<8;o++){const s=document.createElement("li");s.classList.add("square-one"),s.setAttribute("x",r),s.setAttribute("y",o);const d=document.createElement("li");d.classList.add("square-two"),d.setAttribute("x",r),d.setAttribute("y",o),2===t?(1===n[r][o]?s.classList.add("miss-one"):2===n[r][o]?s.classList.add("splash-one"):"X"===n[r][o]?s.classList.add("hit-one"):"D"===n[r][o]?(s.classList.add("hit-one"),s.classList.add("sunk-one")):"S"===n[r][o]&&(s.classList.add("ship"),s.setAttribute("draggable","false")),1===e[r][o]?d.classList.add("miss-two"):2===e[r][o]?d.classList.add("splash-two"):"X"===e[r][o]?d.classList.add("hit-two"):"D"===e[r][o]?(d.classList.add("hit-two"),d.classList.add("sunk-two")):d.setAttribute("tabindex","0")):("S"===e[r][o]&&(s.classList.add("ship"),s.setAttribute("draggable","false"),t||(s.setAttribute("draggable","true"),s.classList.add("grabbing"))),t?(1===e[r][o]?s.classList.add("miss-one"):2===e[r][o]?s.classList.add("splash-one"):"X"===e[r][o]?s.classList.add("hit-one"):"D"===e[r][o]&&(s.classList.add("hit-one"),s.classList.add("sunk-one")),1===n[r][o]?d.classList.add("miss-two"):2===n[r][o]?d.classList.add("splash-two"):"X"===n[r][o]?d.classList.add("hit-two"):"D"===n[r][o]?(d.classList.add("hit-two"),d.classList.add("sunk-two")):d.setAttribute("tabindex","0")):d.classList.add("initial")),a.appendChild(s),i.appendChild(d)}if(r){const n=document.querySelectorAll(".square-one"),o=document.querySelectorAll(".square-two");for(let a=0;a<r.length;a++){const i=r[a],s=i[0],d=i[1];e[s][d]="D",2===t?o[8*s+d].classList.add("sunk-transition"):n[8*s+d].classList.add("sunk-transition")}setTimeout(()=>{for(let e=0;e<r.length;e++){const a=r[e],i=a[0],s=a[1];2===t?o[8*i+s].classList.add("sunk-two"):n[8*i+s].classList.add("sunk-one")}},500)}if(!t){a.classList.add("deploy-time");const e=document.querySelectorAll(".row"),t=document.querySelectorAll(".column"),n=document.querySelector(".admin-link");e.forEach(e=>{e.classList.remove("dark"),e.classList.add("initial-line")}),t.forEach(e=>{e.classList.remove("dark"),e.classList.add("initial-line")}),n.classList.remove("dark"),n.classList.add("initial-admin-link")}if(o>=0){const e=document.querySelector(".round-board"),t=o+1;e.classList.remove("erase-round"),e.classList.add("display-round"),e.textContent="Round "+t,setTimeout(()=>{e.textContent="Fight!",setTimeout(()=>{e.classList.remove("display-round"),e.classList.add("erase-round")},500)},1500),a.classList.remove("deploy-time");const n=document.querySelectorAll(".row"),r=document.querySelectorAll(".column"),i=document.querySelector(".admin-link");n.forEach(e=>{e.classList.remove("initial-line")}),r.forEach(e=>{e.classList.remove("initial-line")}),i.classList.remove("initial-admin-link")}};return{deployBoard:t=>{for(let n=0;n<t.length;n++){const r=t[n],o=r.direction,a=r.coordinates[0],i=a[0],s=a[1];for(let t=0;t<r.length;t++)"horizontal"===o?e[i][s+t]="S":e[i+t][s]="S"}return e},hoverShip:e=>{const t=document.querySelectorAll(".square-one"),n=[];t.forEach(r=>{r.addEventListener("mouseenter",r=>{if(r.target.classList.contains("ship")){const o=Number(r.target.getAttribute("x")),a=Number(r.target.getAttribute("y"));for(let r=0;r<e.length;r++){const i=e[r];for(let e=0;e<i.length;e++){const r=i.coordinates[e],s=r[0],d=r[1];if(o===s&&a===d)for(let e=0;e<i.length;e++){const r=i.coordinates[e],o=8*r[0]+r[1];n.push(o),t[o].classList.add("ship-hover")}}}}}),r.addEventListener("mouseleave",()=>{for(const e of n)t[e].classList.remove("ship-hover")})})},focusShip:t,rotateShip:(t,n,r,o)=>{for(let o=0;o<r.length;o++){const a=r[o],i=a.length;if(1===i)return;for(let r=0;r<i;r++){let o=a.coordinates[r],s=o[0],d=o[1];if(t===s&&n===d){const t=a.direction,n=a.coordinates[0],r=n[0],c=n[1];let l;for(let n=1;n<i;n++)if("horizontal"===t){if(!e[r+n]){l=!0;break}if(e[r+n+1]){const t=e[r+n+1][c],o=e[r+n+1][c-1],a=e[r+n+1][c+1];if("S"===t||"S"===o||"S"===a){l=!0;break}}}else{const t=e[r][c+n],o=e[r][c+n+1];let a,i;if(e[r-1]&&(a=e[r-1][c+n+1]),e[r+1]&&(i=e[r+1][c+n+1]),void 0===t||"S"===o||"S"===a||"S"===i){l=!0;break}}if(l){const e=document.querySelectorAll(".square-one");for(let t=0;t<i;t++)o=a.coordinates[t],s=o[0],d=o[1],e.forEach(e=>{const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));s===t&&d===n&&(e.classList.add("caution"),setTimeout(()=>{e.classList.remove("caution")},200))})}else{"horizontal"===a.direction?a.direction="vertical":a.direction="horizontal";for(let e=0;e<i;e++)a.coordinates[e]="horizontal"===t?[r+e,c]:[r,c+e];for(let n=1;n<i;n++)"horizontal"===t?(e[r+n][c]="S",e[r][c+n]=0):(e[r][c+n]="S",e[r+n][c]=0);p()}}}}},setMoveLocation:i,moveWithArrowKey:(e,n)=>{const r=document.querySelector(".play-btn"),o=document.querySelector(".admin-link");r.addEventListener("focus",()=>{d=-1}),o.addEventListener("focus",()=>{d=-1});const a=document.querySelectorAll(".square-one");if(a.forEach((e,t)=>{e.addEventListener("focus",()=>{d=t})}),d>=0){let s,c=1;for(let u=0;u<n.length;u++){const m=n[u],h=m.coordinates[0],f=h[0],p=h[1],g=Number(a[d].getAttribute("x")),v=Number(a[d].getAttribute("y")),y=m.direction;f===g&&p===v&&"horizontal"===y&&(c=m.length)}function l(e){i(a[d]),s=i(a[d+e],n),s||(d+=e,b(n),t(n),document.querySelectorAll(".square-one")[d].focus())}"ArrowRight"===e.key&&d%8+c+1<=8?l(1):"ArrowLeft"===e.key&&d%8!=0?l(-1):"ArrowDown"===e.key&&d+8<=a.length-1?l(8):"ArrowUp"===e.key&&d-8>=0&&l(-8)}},deployRandom:t=>{e=Array.from({length:8},()=>Array(8).fill(0));for(let n=0;n<t.length;n++){const o=t[n],a=o.coordinates[0],i=a[0],s=a[1];function d(){const e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),n=["horizontal","vertical"][Math.floor(2*Math.random())],a=r(i,s,e,t,o,n);o.direction=n,a&&d()}d()}},markupTarget:e=>{const t=document.querySelectorAll(".square-two"),n=document.querySelectorAll(".column"),r=document.querySelectorAll(".row");function o(){n.forEach(e=>{e.classList.remove("target-line")}),r.forEach(e=>{e.classList.remove("target-line")}),t.forEach(e=>{e.classList.remove("target"),e.classList.remove("on-target")})}e?t.forEach(t=>{function a(a){const i=Number(t.getAttribute("x")),s=Number(t.getAttribute("y")),d=e[i][s];c!==a&&o(),c=a,"hover"===c&&(l=8*i+s,t.focus()),0!==d&&"S"!==d||(n[s].classList.add("target-line"),r[i].classList.add("target-line"),t.classList.add("target"),t.classList.add("on-target"))}t.addEventListener("mouseenter",()=>a("hover")),t.addEventListener("focus",()=>a("focus")),t.addEventListener("mouseleave",()=>o()),t.addEventListener("blur",()=>o())}):o()},focusWithArrowKey:(e,t,n)=>{if("confirmation-on"===e)s=!0;else if("confirmation-off"===e)return void(s=!1);if(s)return;const r=document.querySelectorAll(".square-two");function o(){n&&"ArrowRight"!==n.key?"ArrowLeft"===n.key?l-=1:"ArrowDown"===n.key?l+=8:"ArrowUp"===n.key&&(l-=8):l+=1,l>=r.length?l-=r.length:l<0&&(l+=r.length)}-1===l?l=0:o();let a=Math.floor(l/8),i=l%8;if(0!==t[a][i]&&"S"!==t[a][i])for(let e=0;e<63&&(a=Math.floor(l/8),i=l%8,0!==t[a][i]&&"S"!==t[a][i]);e++)o();r[l].focus()},receiveAttack:m,getComputerMove:h,checkTheWinner:f,getBoard:()=>e,addTabIndex:b,renderBoard:p}}function a(e,t){let n=e||0,r=JSON.parse(localStorage.getItem("hiScore"))||5e3,o=t||0,a=JSON.parse(localStorage.getItem("highestVictory"))||0,i=0;const s=e=>{const t=document.querySelector(".message-board");if("deploy"===e){let e=0;t.textContent="Deploy your fleet",i=setInterval(()=>{e+=1,0===e?t.textContent="Deploy your fleet":1===e?t.textContent="Drag to move":2===e?t.textContent="Click to rotate":3===e?t.textContent="Keyboard usable":4===e?t.textContent="Tab to choose":5===e?t.textContent="Arrows to move":6===e?t.textContent="Space to rotate":7===e?t.textContent="R to Random":8===e&&(t.textContent="P to Play"),8===e&&(e=-1)},2e3)}else"start"===e?(clearInterval(i),t.textContent="Good luck!",setTimeout(()=>{t.textContent="Your turn"},1500)):t.textContent=e};let d,c=0;return{updateRecords:(e,t)=>{if("hit"===e?n+=500:"reset"===e?(n=0,o=0):e&&(n+=e,o+=1),n>r&&(r=n,localStorage.setItem("hiScore",JSON.stringify(r))),o>a&&(a=o,localStorage.setItem("highestVictory",JSON.stringify(a))),t)return;const i=document.querySelector(".current-score-board"),s=document.querySelector(".hi-score-board"),d=document.querySelector(".current-victory-board"),c=document.querySelector(".highest-victory-board");let l=n.toString().padStart(6,"0"),u=r.toString().padStart(6,"0");i.textContent=l,s.textContent="Hi "+u,d.textContent=o,c.textContent=a},getRecords:()=>[n,o],updateMessage:s,updateBtn:()=>{const e=document.querySelector(".random-btn"),t=document.querySelector(".play-btn");0===c?(e.textContent="Random",e.classList.remove("reset-btn"),t.classList.remove("disabled")):(e.textContent="Reset",e.classList.add("reset-btn"),t.classList.remove("play-btn-hover"),t.classList.add("disabled"))},setCurrentTurn:e=>c=e,getCurrentTurn:()=>c,displayConfirmation:()=>{document.querySelector(".board-container-one").innerHTML='\n      <div class="confirmation-container">\n        <h2>Are you sure to reset?</h2>\n        <div class="btn-container">\n          <button type="button" class="do-reset-btn">Reset</button>\n          <button type="button" class="cancel-btn">Cancel</button>\n        </div>\n      </div>\n    '},rotateEmblem:()=>{document.querySelectorAll(".emblem").forEach(e=>{e.classList.add("rotate-emblem"),setTimeout(()=>{e.classList.remove("rotate-emblem")},1e3)})},displayResult:(e,t,n)=>{const r=document.querySelector(".board-container-one"),a=document.querySelector(".board-container-two");let i="";if(1===e){i='\n        <div class="victory-container">\n          <h2>Mission Complete</h2>\n          <p class="alive-bonus">- Alive Bonus -</p>\n          <div class="bonus-row">\n            <p>Battleship</p>\n            <p class="bonus-score-board"></p>\n          </div>\n          <div class="bonus-row">\n            <p>Cruiser</p>\n            <p class="bonus-score-board"></p>\n          </div>\n          <div class="bonus-row">\n            <p>Destroyer</p>\n            <p class="bonus-score-board"></p>\n          </div>\n          <div class="bonus-row">\n            <p>Submarine</p>\n            <p class="bonus-score-board"></p>\n          </div>\n          <div class="bonus-row total-bonus-row">\n            <p>Total Bonus</p>\n            <p class="total-bonus-score-board"></p>\n          </div>\n          <button type="button" class="move-on-btn">Move on</button>\n        </div>\n      ';const e=n.reduce((e,t,r)=>e+t.isSunk(n[r]),0);setTimeout(()=>{s(0===e?"You win! Perfect":"You win!"),r.innerHTML=i;const o=function(e){const t=document.querySelectorAll(".bonus-score-board"),n=document.querySelector(".total-bonus-score-board");let r=0;return t.forEach((t,n)=>{let o=2e3-500*n;e[n].isSunk(e[n])?o=0:r+=o,t.textContent=o}),n.textContent=r,r}(n);t(o)},2e3)}else 2===e?(i='\n        <div class="defeat-container">\n          <h2>Mission failed</h2>\n          <p>- Battle Result -</p>\n          <p class="final-victory-board"></p>\n          <p>Your rank:</p>\n          <p class="rank-board"></p>\n          <p class="comment">Good luck next time.</p>\n          <button type="button" class="try-again-btn">Try again</button>\n        </div>\n      ',setTimeout(()=>{s("You lose"),a.classList.add("dark");const e=document.querySelectorAll(".row"),n=document.querySelectorAll(".column");e.forEach(e=>{e.classList.add("dark")}),n.forEach(e=>{e.classList.add("dark")}),document.querySelector(".admin-link").classList.add("dark"),r.innerHTML=i;let d=Math.floor(o/2)+1;0===o&&(d=0);const c=document.querySelector(".final-victory-board"),l=document.querySelector(".rank-board");c.textContent=o+" wins",l.textContent=["Seaman","Petty Officer","Chief Petty Officer","Ensign","Lieutenant Jr. Grade","Lieutenant","Lieutenant Commander","Commander","Captain","Rear Admiral","Vice Admiral"][d],t()},1e3)):(s("You win!"),i='\n        <div class="finish-container">\n          <h2>Congratulations!</h2>\n          <p>- Battle Result -</p>\n          <p>20 wins</p>\n          <p>Your rank:</p>\n          <p class="rank-board">Admiral</p>\n          <p class="comment">Honor your achievement!</p>\n          <button type="button" class="finale-btn">Finale</button>\n        </div>\n      ',r.innerHTML=i)},setFinished:e=>{e?document.querySelector(".title").classList.add("golden-title"):d=!0},getFinished:()=>d}}function i(e,t,n,i){return{playerNo:e,playerType:t,list:r(),board:o(),info:a(n,i)}}n.d(t,{O:()=>i}),(e=n.hmd(e)).exports&&(e.exports=o)},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},661:(e,t,n)=>{e.exports=n.p+"de7ced177d66bb006694.svg"},671:(e,t,n)=>{e.exports=n.p+"13a584a5809f4f46a2a6.woff2"},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b="undefined"!=typeof document&&document.baseURI||self.location.href,n.nc=void 0;var r=n(72),o=n.n(r),a=n(825),i=n.n(a),s=n(659),d=n.n(s),c=n(56),l=n.n(c),u=n(540),m=n.n(u),h=n(113),f=n.n(h),b=n(365),p={};p.styleTagTransform=f(),p.setAttributes=l(),p.insert=d().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=m(),o()(b.A,p),b.A&&b.A.locals&&b.A.locals;var g=n(650);let v=(0,g.O)(1,"human"),y=(0,g.O)(2,"computer");function k(e){let t;if(!e){const e=v.info.getRecords(),n=e[0],r=e[1],o=v.info.getFinished();t=v.list.getDeploySets(),v=(0,g.O)(v.playerNo,v.playerType,n,r),y=(0,g.O)(y.playerNo,y.playerType),o&&v.info.setFinished("display")}v.list.deployShip(t),y.list.deployShip(),v.board.deployBoard(v.list.getList()),y.board.deployBoard(y.list.getList()),y.board.deployRandom(y.list.getList()),v.info.updateRecords(),v.info.updateMessage("deploy"),v.info.updateBtn(),v.board.renderBoard(),v.board.addTabIndex(v.list.getList())}k("initial");const w=document.querySelector(".random-btn"),L=document.querySelector(".play-btn"),S=document.querySelector(".board-container-one"),x=document.querySelector(".board-container-two");function A(e){if(e instanceof KeyboardEvent){if("ArrowRight"===e.key&&L.focus()," "!==e.key)return;e.preventDefault()}const t=v.info.getCurrentTurn();if(0===t)v.board.deployRandom(v.list.getList()),v.board.renderBoard(),v.board.addTabIndex(v.list.getList());else if(1===t){v.board.focusWithArrowKey("confirmation-on"),v.info.displayConfirmation();const n=document.querySelector(".do-reset-btn"),r=document.querySelector(".cancel-btn");function o(e){e instanceof KeyboardEvent&&("ArrowRight"!==e.key&&"Tab"!==e.key||(e.preventDefault(),r.focus())),e&&" "!==e.key||(v.board.focusWithArrowKey("confirmation-off"),v.info.updateRecords("reset"),k())}function a(e){e instanceof KeyboardEvent&&("ArrowLeft"!==e.key&&"Tab"!==e.key||(e.preventDefault(),n.focus())),e&&" "!==e.key||(v.board.focusWithArrowKey("confirmation-off"),v.board.renderBoard(1,y.board.getBoard()),v.board.markupTarget(y.board.getBoard()))}n.focus(),n.addEventListener("click",()=>o()),n.addEventListener("keydown",e=>o(e)),r.addEventListener("click",()=>a()),r.addEventListener("keydown",e=>a(e))}}function q(e){if(!(e instanceof KeyboardEvent&&"Enter"!==e.key&&" "!==e.key)&&0===v.info.getCurrentTurn()){const t=Number(e.target.getAttribute("x")),n=Number(e.target.getAttribute("y"));e.target.classList.contains("ship")&&(v.board.rotateShip(t,n,v.list.getList(),e),v.board.addTabIndex(v.list.getList(),t,n))}}function E(){if(0===v.info.getCurrentTurn()){const e=v.info.getRecords()[1];v.info.setCurrentTurn(1),v.info.updateMessage("start"),v.info.updateBtn(),v.board.renderBoard(1,y.board.getBoard(),"",e),v.board.markupTarget(y.board.getBoard())}}function T(e){if(1===v.info.getCurrentTurn()){if(e instanceof KeyboardEvent&&"Enter"!==e.key&&" "!==e.key)return;if(e.target.classList.contains("board-container-two"))return;const t=Number(e.target.getAttribute("x")),n=Number(e.target.getAttribute("y")),r=y.board.receiveAttack(t,n,2,y.list.getList(),v.board.getBoard());if("hit"===r||"sunk"===r)if(v.info.updateRecords("hit"),y.board.checkTheWinner(1,y.list.getList())){function o(e){v.info.updateRecords(e,"notRender"),v.info.rotateEmblem();const t=document.querySelector(".move-on-btn");function n(e){if(!(e instanceof KeyboardEvent&&"Enter"!==e.key&&" "!==e.key))if(S.classList.remove("erase-board","display-board"),v.info.rotateEmblem(),20===v.info.getRecords()[1]){v.info.displayResult("finish"),v.info.updateRecords();const t=document.querySelector(".finale-btn");function n(e){e instanceof KeyboardEvent&&"Enter"!==e.key&&" "!==e.key||(v.info.rotateEmblem(),v.info.updateRecords("reset"),v.info.setFinished(),k())}t.focus(),t.addEventListener("click",()=>n()),t.addEventListener("keydown",e=>n(e))}else k()}t.focus(),t.addEventListener("click",()=>n()),t.addEventListener("keydown",e=>n(e))}v.info.setCurrentTurn(3),v.board.markupTarget(),v.info.displayResult(1,o,v.list.getList())}else v.board.markupTarget(y.board.getBoard());else if("miss"===r){function a(t){if(t){function n(){const e=document.querySelector(".try-again-btn");function t(e){e instanceof KeyboardEvent&&"Enter"!==e.key&&" "!==e.key||(v.info.updateRecords("reset"),k())}e.focus(),e.addEventListener("click",()=>t()),e.addEventListener("keydown",e=>t(e))}v.info.setCurrentTurn(3),v.info.displayResult(2,n)}else v.info.setCurrentTurn(1),v.info.updateMessage("Your turn"),v.board.markupTarget(y.board.getBoard()),e instanceof KeyboardEvent&&v.board.focusWithArrowKey("",y.board.getBoard())}v.info.setCurrentTurn(2),v.info.updateMessage("Computer's turn"),v.board.markupTarget(),v.board.getComputerMove(a,v.list.getList(),y.board.getBoard())}}}w.addEventListener("click",()=>A()),w.addEventListener("keydown",e=>A(e)),S.addEventListener("mouseover",()=>{0===v.info.getCurrentTurn()&&v.board.hoverShip(v.list.getList())}),S.addEventListener("click",e=>q(e)),S.addEventListener("keydown",e=>q(e)),S.addEventListener("dragstart",e=>{v.board.setMoveLocation(e.target)}),S.addEventListener("dragover",e=>{0===v.info.getCurrentTurn()&&e.preventDefault()}),S.addEventListener("drop",e=>{v.board.setMoveLocation(e.target,v.list.getList()),v.board.addTabIndex(v.list.getList())}),document.addEventListener("keydown",e=>{const t=v.info.getCurrentTurn();if(0===t){if(document.activeElement===document.body&&("ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key))return void w.focus();"Tab"===e.key&&v.board.focusShip(v.list.getList()),"Tab"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||v.board.moveWithArrowKey(e,v.list.getList())}else if(1===t)"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||v.board.focusWithArrowKey("",y.board.getBoard(),e);else if(3===t)return void e.preventDefault();"r"===e.key?A():"p"===e.key&&E()}),L.addEventListener("mouseenter",()=>{0===v.info.getCurrentTurn()&&L.classList.add("play-btn-hover")}),L.addEventListener("mouseleave",()=>{0===v.info.getCurrentTurn()&&L.classList.remove("play-btn-hover")}),L.addEventListener("click",()=>E()),L.addEventListener("keydown",e=>{"ArrowLeft"===e.key&&w.focus()}),x.addEventListener("click",e=>T(e)),x.addEventListener("keydown",e=>T(e))})();